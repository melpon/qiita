すみません、鳥頭なのでコメントしたことをすっかり忘れてしまっていました…m(__)m
修正ありがとうございます！

> `capacity()` で -1 しているのは、内部で `__get_long_cap()` （NULL 含むキャパシティ取得）単体で使うケースと `capacity()` （NULL 含まないキャパシティ取得）単体で使うケースを考えると、これでいいんじゃないかなと思います。

確かにその通りなのですが、ソース見ると `__set_long_cap()` 関数の呼び出し元で +1 調整してる箇所の方が +1 調整してない箇所よりも多いんですよね。
そして、`__set_long_cap()` に渡す際の値は必ず偶数で、`__set_long_cap()` 関数の内部では 1 と or してるので `__cap_` は必ず奇数になる、つまり内部でまた +1 しているのと同じなので、結局ほとんどのケースで +2 してる、と言う…

だったら、`__cap_` には `capacity()` と同じ値を入れておいて（それで必ず奇数になるので）、ホントの領域サイズが必要な箇所だけ `__get_long_cap()` 関数を呼び出した側で +1 したほうがスッキリするじゃん、と…

＃関係ないけど、再開 bit って何だよ…＞オレ
