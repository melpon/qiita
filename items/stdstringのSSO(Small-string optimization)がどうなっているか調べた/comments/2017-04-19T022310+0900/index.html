<p>「キャパシティの値を<strong>常に2の倍数にする</strong>」とありますが、これだとちょっと誤解を招く気がします。<br>
正確には、SSO が効いていない場合には <code>capacity()</code> で返る値は常に奇数だけど <code>c_str()</code> や <code>data()</code> を返す際に必要な終端文字<code>'\0'</code> も格納するために1文字余計に領域を確保しているので領域のサイズ（文字列のサイズではない）は偶数になっている、ですね。<br>
個人的には、<code>__set_long_cap()</code> と <code>__get_long_cap()</code> が再開 bit をオンオフした上で関数呼び出し側で +1 したり -1 したりするのが今一つ意味が分からないですが。+1 や -1 しないでそのまま取得設定しろよ、と…</p>
