ネタ回です。

## C++のテンプレート

唐突ですがC++のテンプレートについてです。

C++にはテンプレートというのが存在していて、`list<>`というテンプレート型に、任意の型を入れることで新しい型を定義できる仕組みになっています。
例えば`list<int>`という風に書くと、`int`型のリストを表す型が定義されます。

つまり`list<long>`や、`list<list<int>>`みたいな書き方ができる訳です。

しかし実は `list<list<int>>` という書き方は、遥か昔のC++[^1]ではコンパイルエラーになります。
なぜならC++のパーサが`list<list<int>>`をパースした結果、`>>`が、テンプレートの閉じカッコが2個並んでいるのではなく、右シフトの演算子として扱われるからです。

そのため遥か昔のC++では`list<list<int> >`という風に、空白を入れることでパーサに区切りを伝える必要がありました。

[^1]: 1998年版のC++（俗に言うC++98）や2003年版のC++（俗に言うC++03）がそれに当たります。2011年版のC++（俗に言うC++11）以降は直っています。

## 本題

つまりこういう。[^2]

[^2]: 多分既にどこかで指摘されてるし、既に直さないって判断をしてると思うのですが、何で検索すればそういう情報が見つかるのか分かりませんでした。

```erlang

-record(test, {hoge}).

main(_) ->
  Test = #test{hoge=<<1,2>>}.
```

実行結果:

```
prog.erl:4: syntax error before: '=<'
```
